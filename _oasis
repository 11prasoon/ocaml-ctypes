OASISFormat: 0.3
Name:        ctypes
Version:     0.1
Synopsis:    Combinators for binding to C libraries without writing any C.
Authors:     Jeremy Yallop
License:     MIT
Plugins:     META (0.3)
BuildTools:  ocamlbuild
PostConfCommand: ocaml discover.ml -ocamlc $ocamlc -ext-obj $ext_obj -exec-name $default_executable_name
PreBuildCommand: ocamlc -custom primitive_details.c primitive_details.ml -o primitive_details && ./primitive_details src/ctypes/ctypes_primitives.ml

Library ctypes
  Path:             src/ctypes
  Findlibname:      ctypes
  Modules:          Unsigned,Signed,Structs,Ctypes,PosixTypes
  InternalModules:  Common,
                    Primitives,
                    Ctypes_primitives,
                    Bigarray_stubs,
                    Ctypes_bigarray,
                    Ctypes_raw,
                    Static,
                    Structs_computed,
                    Type_printing,
                    Memory_stubs,
                    Memory,
                    Value_printing_stubs,
                    Value_printing,
                    Std_view_stubs,
                    Std_views
  CSources:         primitives.h,
                    unsigned_stubs.h,unsigned_stubs.c,
                    raw_pointer.h,raw_pointer_stubs.c,
                    managed_buffer_stubs.h,managed_buffer_stubs.c,
                    ctypes_bigarray_stubs.c,
                    type_info_stubs.h,type_info_stubs.c,
                    posix_types_stubs.c
  CCOpt:            -fPIC -Wall -Wno-unused-variable -O3
  BuildDepends:     unix,bigarray
  Install:          true

Library "ctypes-foreign"
  Path:             src/ctypes-foreign
  Findlibname:      foreign
  Findlibparent:    ctypes
  Modules:          Dl,Foreign
  InternalModules:  Closure_properties,
                    WeakRef,
                    Ffi_stubs,
                    Ffi
  CSources:         dl_stubs.c,
                    ffi_type_stubs.c,
                    ffi_call_stubs.c
  CCOpt:            -fPIC -Wall -Wno-unused-variable -O3
  XMETADescription: Dynamic linking of C functions
  BuildDepends:     threads,ctypes
  Install:          true

Library fts
  Path:             examples/fts
  Findlibname:      fts
  Modules:          Fts
  BuildDepends:     ctypes.foreign
  XMETADescription: Example ctypes bindings to the FTS functions
  Install:          false

Library sigset
  Path:             examples/sigset
  Findlibname:      sigset
  Modules:          Sigset
  BuildDepends:     ctypes.foreign
  XMETADescription: Example ctypes bindings to the sigset interface
  Install:          false

Library ncurses
  Path:             examples/ncurses
  Findlibname:      ncurses
  Modules:          Ncurses
  BuildDepends:     ctypes.foreign
  CCLib:            -lncurses
  XMETADescription: ctypes-based ncurses example
  Install:          false

Library ctypes_top
  Path:               src/ctypes-top
  FindlibName:        top
  FindlibParent:      ctypes
  Modules:            Ctypes_printers,Install_printers
  BuildDepends:       compiler-libs.toplevel,ctypes
  XMETARequires:      ctypes
  XMETADescription:   Toplevel printers for C types

Executable ncurses_cmd
   Path:            examples/ncurses
   MainIs:          ncurses_cmd.ml
   CompiledObject:  best
   Install:         false
   BuildDepends:    ncurses,ctypes.foreign
   Custom:          true
   Install:         false

Executable fts_cmd
   Path:            examples/fts
   MainIs:          fts_cmd.ml
   CompiledObject:  best
   Install:         false
   BuildDepends:    fts
   Custom:          true

Executable date_example
  Path:             examples/date
  MainIs:           date.ml
  CompiledObject:   best
  Install:          false
  BuildDepends:     ctypes.foreign,oUnit
  Custom:           true

Document ctypes
  Title:                Ctypes docs
  Type:                 ocamlbuild (0.3)
  BuildTools+:          ocamldoc
  Install:              true
  XOCamlbuildPath:      .
  XOCamlbuildLibraries: ctypes.foreign
